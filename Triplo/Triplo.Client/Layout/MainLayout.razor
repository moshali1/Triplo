@inherits LayoutComponentBase

<div class="min-h-screen bg-gray-50">
    <!-- Mobile Sidebar -->
    <MobileSidebar @bind-IsOpen="isMobileMenuOpen" />
    
    <!-- Desktop Sidebar -->
    <div class="hidden lg:fixed lg:inset-y-0 lg:flex lg:w-20 lg:flex-col">
        <div class="flex grow flex-col gap-y-5 overflow-y-auto bg-indigo-900 px-2">
            <div class="flex h-16 shrink-0 items-center justify-center">
                <div class="flex items-center justify-center">
                    <i class="fa-solid fa-layer-group text-2xl text-blue-400"></i>
                </div>
            </div>
            <NavMenu IsMobileView="false" />
        </div>
    </div>

    <!-- Main Content -->
    <div class="lg:pl-20">
        <!-- Mobile Header -->
        <div class="sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8">
            <button type="button" class="-m-2.5 p-2.5 text-gray-700 lg:hidden" @onclick="OpenMobileMenu">
                <span class="sr-only">Open sidebar</span>
                <i class="fa-solid fa-bars h-6 w-6"></i>
            </button>
            
            <div class="h-6 w-px bg-gray-200 lg:hidden" aria-hidden="true"></div>
            
            <div class="flex flex-1 justify-end">
                <div class="flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100">
                    <i class="fa-solid fa-user text-indigo-600 text-sm"></i>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <main class="py-6">
            <div class="mx-auto px-4 sm:px-6 lg:px-8">
                @Body
            </div>
        </main>
    </div>
</div>

<!-- Error UI -->
<div id="blazor-error-ui" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-yellow-100 text-black px-4 py-2 rounded shadow-lg flex items-center space-x-1">
    <i class="fa-solid fa-circle-exclamation text-yellow-600 mr-2"></i>
    <span>An unhandled error has occurred.</span>
    <a href="." class="underline text-blue-600 hover:text-blue-800">Reload</a>
    <button class="text-black hover:text-gray-600 focus:outline-none" onclick="document.getElementById('blazor-error-ui').style.display='none'">
        🗙
    </button>
</div>

@code {
    private bool isMobileMenuOpen;

    private void OpenMobileMenu()
    {
        isMobileMenuOpen = true;
    }
}
